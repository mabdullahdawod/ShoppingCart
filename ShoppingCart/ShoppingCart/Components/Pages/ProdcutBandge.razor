@page "/prodcutBandge"
@rendermode InteractiveServer
@using ShoppingCart.Modal
@using ShoppingCart.Services
@using ShoppingCart.Components.Pages
@inject ProductServices productservice
@using ShoppingCart.SharedService
@inject ProductShareService sharedservice
@inject NavigationManager navigation

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">


<button type="button" class="btn position-relative" @onclick="() => GoTOCart()">
    <i style="font-size:24px;" class="bi bi-cart-plus"></i>
    <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-info">
        @sharedservice.ShoppingCart.Count()
        <span class="visually-hidden ">unread messages</span>
    </span>
</button>


@code {
    private int count;

    protected override void OnInitialized()
    {
        sharedservice.OnChange += onchange ;
    }

    public void onchange(int count)
    {
        // sharedservice.OnChange += onchange;
        this.count = count;
        InvokeAsync(StateHasChanged);
    }

    public void GoTOCart()
    {
        navigation.NavigateTo("/AddedProduct");
    }


    // public void ProductDetail(int id)
    // {
    //     navigate.NavigateTo($"/ProductDetailpage/{id}");
    // }

}
